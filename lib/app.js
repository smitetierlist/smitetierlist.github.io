function preloader(t,e){function o(e){this.imageLocations=e,this.imageCount=this.imageLocations.length,this.loadCount=0,this.errorCount=0,this.states={PENDING:1,LOADING:2,RESOLVED:3},this.state=this.states.PENDING,this.deferred=t.defer(),this.promise=this.deferred.promise}return o.preloadImages=function(t){var e=new o(t);return e.load()},o.prototype={constructor:o,isInitiated:function(){return this.state!==this.states.PENDING},isResolved:function(){return this.state===this.states.RESOLVED},load:function(){if(this.isInitiated())return this.promise;this.state=this.states.LOADING;for(var t=0;t<this.imageCount;t++)this.loadImageLocation(this.imageLocations[t].icon);return this.promise},tryResolve:function(){this.loadCount+this.errorCount===this.imageCount&&(this.state=this.states.RESOLVED,this.deferred.resolve(this.imageLocations))},handleImageError:function(t){this.errorCount++,this.tryResolve()},handleImageLoad:function(t){this.loadCount++,this.deferred.notify({percent:Math.ceil(this.loadCount/this.imageCount*100),imageLocation:t}),this.tryResolve()},loadImageLocation:function(t){var o=this,r=$(new Image).load(function(t){e.$apply(function(){o.handleImageLoad(t.target.src),o=r=t=null})}).error(function(t){e.$apply(function(){o.handleImageError(t.target.src),o=r=t=null})}).prop("src",t)}},o}!function(){"use strict";angular.module("imageFallback",[]).directive("fallbackSrc",function(){var t="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAICAgICAQICAgIDAgIDAwYEAwMDAwcFBQQGCAcJCAgHCAgJCg0LCQoMCggICw8LDA0ODg8OCQsQERAOEQ0ODg7/wAALCAAyADIBASIA/8QAGgAAAwEBAQEAAAAAAAAAAAAABwgJBgUECv/EADQQAAEDAwMCBAQFAwUAAAAAAAECAwQFBhEAByESMQgTIkEVUWFxFHOBobEJMjM1QpGi4f/aAAgBAQAAPwD0eLPfak1TxmbgxZUgOKoco0+M0VYS0pkJSpR/XJ1Ki+d76xPvJDtJfQ2+SS08tHV0AnggHjJwO+uIKfe1eqdKqSXTUpLj4T5vm9fWsnt9Tye2nP288LdVq0Zi5a28aagpAbYcQArjkjn768O53hbS1BqNQtmoLjSS2oSGzgh0Z5T9jxpHtsUy7X8Zds0+VAIfFYbhvsq+S1hOR+x19JMBfRQoSQOAwgf9RqH/AI9S5b39TPeSnwJXmRqjXlzEuNnhSHsODGPbk6EG0G0ju4t0JQwsuTCtDcWOE5BAHK1n2Hb99Vx208Nkij2FEh1WmUtp5hSZEWS010usupUF9Cz/ALk5HcY79tHSuNx6TbEOA4801IyfMSFggKPJI+mg/d9PcNtOOuS0IQ8OEdQBP6anTfFtMUjx17S1qntBlydWWoshRHC8LBz98E6tZDUkUiKMnhlP8DUtvGjs4zel3uXxbbFUTc1PpURVZQ6ylcSUz0HpW0pPqDgxghXBxwc92Z8Fe1VKtrwhRbsiwTUbmqvmOqCW8rATkJSM9u2snvPvZv5CRMoFMtKTQ4yVENvjoYKu4yVuHnj2A0I9i6Ru1du5zXxyrSp0RyX5Mp6VK87BPuCRxoS771be+k+IS4LYjPfhoVNlllLiH0guJ4IWMg+x10tqqBc1x3jalavpt2UaXV234Pm4yhYbUkKynuOQf01XKI4fhcb8pP8AGt5e+yNGuQ01tTKX4ERaVSmVA9D3khRbCwCCU5VzjtgHB1maTHp1kVl+mW7S2qTRozilNRY59DeTkgA+2SddG4bw29rlAMe6ILZcb/vWGk8ce51g7dr+3btb6qQ/SbYgsqAiMzpiGHpWCFKW2k/3f8nS775SrFX4oahUm3IlRizG0lxPmAq6xwFJ+n/mhZS61T5O78CmUpCG4aMLc6RxkEAafKKUfDY/5Sfb6aYiZS3rm2nnRFz36ZMeSSzMjL6XI7nsofPB7g8EcaTqTdBo12VW36vNVNnRldBkPHCnyOCo/U9/11watT6BWYBlF5TrjaepyK2v1vfJIHvzoM7lVdibbSGq7thUW2oiCIwdpqFrSMYCk4Vke3bSi0BmXK3WfUmm1RbC1dC36ijobjozyPUrOPpjOjZZ8GKL7qFVp4LlPivtREvgcOOqVk4+wH7jVBYiXPhUb0H/ABJ9voNNK2H4dHkodbLAS6Rj2znU8N76ApzcGsVSK95EpDyikj3GdL7btwLj3xEfqk51h6MsEp6vSojRbvCfDva2HJEi64zUVKP8KnulwfbnSt1iJBgqj2+xccZcypzW4qVrV6WUqUB1rV8hkZ061bsO17H28se27flNz4LElpx6chQV+LdUQVukjjk9vkAB7aZSO3FFPYAAx5af41n/AB8zZkC1bMTBlvQkqnr6gw6UA8A+x0KtwQFU0qV6lFlGSec+gaR27PS64U+k88jj30Bp8qUmY+lMl1Kes8Bw41iUPOuV0LcdWteT6lKJOqLbevvPbE275ry3cTWMdaicc6eSP/p7H5af41//2Q==";return{restrict:"A",link:function(e,o,r){var i=function(){o.off("error",i);var e=r.fallbackSrc||t;o[0].src!==e&&(o[0].src=e)};o.on("error",i)}}}).directive("loadingSrc",function(){var t=function(t,e,o){e[0].src=o.loadingSrc;var r=new Image;r.src=t.imgSrc,r.onload=function(){r.onload=null,e[0].src!==r.src&&(e[0].src=r.src)}};return{restrict:"A",compile:function(e,o){return o.imgSrc=o.ngSrc,delete o.ngSrc,t}}})}(),function(){"use strict";angular.module("smitetierlist",["ngDraggable","imageFallback"])}(),function(){"use strict";function t(){return{restrict:"E",scope:{god:"=god"},templateUrl:"lib/template/avatar.html"}}angular.module("smitetierlist").directive("avatar",t)}(),function(){"use strict";function t(t,e,o){function r(t,e,o){s(t),a(t),n(o,t)}function i(e,o){s(e)===!0&&t.availableGods.push(e)}function n(e,o){t.tiers.hasOwnProperty(e)&&-1===t.tiers[e].gods.indexOf(o)&&t.tiers[e].gods.push(o)}function a(e){var o=t.availableGods.indexOf(e);-1!==o&&t.availableGods.splice(o,1)}function s(e){for(var o in t.tiers)if(t.tiers.hasOwnProperty(o)){var r=t.tiers[o].gods.indexOf(e);if(-1!==r)return t.tiers[o].gods.splice(r,1),!0}return!1}t.loading=!0,t.gods=[],t.availableGods=[],t.tiers={ss:{name:"SS",color:"red",gods:[]},splus:{name:"S+",color:"blue",gods:[]},s:{name:"S",color:"blue",gods:[]},sminus:{name:"S-",color:"blue",gods:[]},aplus:{name:"A+",color:"green",gods:[]},a:{name:"A",color:"green",gods:[]},aminus:{name:"A-",color:"green",gods:[]},b:{name:"B",color:"grey",gods:[]},c:{name:"C",color:"grey",gods:[]},d:{name:"D",color:"grey",gods:[]}},t.drop=r,t.resetGod=i,e.get("gods.json").then(function(e){var r=e.data;r.forEach(function(t){t.icon="lib/assets/icons/"+t.id+".jpg"}),o.preloadImages(r).then(function(e){t.gods=angular.copy(e),t.availableGods=angular.copy(e),t.loading=!1})})}t.$inject=["$scope","$http","preloader"],angular.module("smitetierlist").controller("IndexController",t)}(),preloader.$inject=["$q","$rootScope"],angular.module("smitetierlist").factory("preloader",preloader);